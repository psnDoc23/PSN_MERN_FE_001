(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,n,t){e.exports=t(44)},44:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(24),c=t.n(o),u=t(2),i=t(3),l=t(15),d=t.n(l),s=function(e){return a.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"#000000",viewBox:"0 0 24 24",height:"24",width:"24"},e),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))},p=function(e){return a.a.createElement("svg",Object.assign({fill:"#000000",viewBox:"0 0 24 24",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg"},e),a.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},f=t(45),m=t(46);function h(){var e=Object(u.a)(["\n  font-size: 18px;\n  line-height: 24px;\n  margin-left: 10px;\n  max-width: calc(100% - 24px - 10px);\n"]);return h=function(){return e},e}function g(){var e=Object(u.a)(["\n  display: flex;\n  align-items: top;\n  padding: 10px !important;\n"]);return g=function(){return e},e}function v(){var e=Object(u.a)(["\n  margin: 4px auto;\n  :first-of-type {\n    margin-top: 0px;\n  }\n"]);return v=function(){return e},e}function b(e){var n=e.item,t=e.toggleStatus,r=n.checked?s:p;return a.a.createElement(x,{onClick:t},a.a.createElement(O,null,a.a.createElement(r,null),a.a.createElement(j,null,n.task)))}var x=Object(i.a)(f.a)(v()),O=Object(i.a)(m.a)(g()),j=i.a.span(h());function w(){var e=Object(u.a)(["\n  padding: 0;\n  margin-top: 10px;\n  width: 450px;\n"]);return w=function(){return e},e}function E(){var e=Object(u.a)(["\n    text-align: center;\n    font-size: 2em;\n    padding-top: 60px;\n    padding-bottom: 60px;\n  "]);return E=function(){return e},e}function y(e){var n=e.items,t=e.hasHadTodos,r=e.actions;return a.a.createElement(d.a,null,a.a.createElement(T,null,0===n.length&&a.a.createElement(k,{hasHadTodos:t}),n.map(function(e){return a.a.createElement(b,{key:e._id.toString(),item:e,toggleStatus:function(){return r.toggleTodoStatus(e._id)}})})))}var k=function(e){var n=i.a.div(E());return a.a.createElement(n,null,e.hasHadTodos?a.a.createElement("span",null,a.a.createElement("span",{role:"img","aria-label":"celebrate"}," ","\ud83c\udf89"," "),"All done! Enjoy your day!"):a.a.createElement("span",null,"Enter some text and click ",a.a.createElement("strong",null,"Add")," to save your first to-do task"))},T=i.a.ul(w()),L=t(16),C=t(49),I=t(29),S=t(47),A=t(48),H=t(51);function U(){var e=Object(u.a)(["\n  background-color: #5e9668 !important;\n"]);return U=function(){return e},e}function _(){var e=Object(u.a)(["\n    margin-right: 8px;\n    margin-left: 8px;\n  "]);return _=function(){return e},e}function z(){var e=Object(u.a)(["\n  height: 70px !important;\n  background-color: white;\n  box-sizing: border-box;\n  padding-left: 20px;\n  padding-right: 20px;\n  line-height: 40px;\n"]);return z=function(){return e},e}function M(){var e=Object(u.a)(["\n  width: 100%;\n"]);return M=function(){return e},e}function D(e){e.addTodo;var n=Object(I.a)(e,["addTodo"]);return a.a.createElement(R,null,a.a.createElement(B,Object.assign({},n,{type:"text",placeholder:"What Do You Need To Do?"})),a.a.createElement(W,{action:e.addTodo},"Add To-Do"))}var R=Object(i.a)(S.a)(M()),B=Object(i.a)(A.a)(z()),W=function(e){var n=i.a.div(_());return a.a.createElement(H.a,{addonType:"append"},a.a.createElement(N,{color:"info",onClick:e.action,disabled:e.disabled},a.a.createElement(n,null,e.children)))},N=Object(i.a)(C.a)(U());function P(){var e=Object(u.a)(["\n  background-color: #f83d0e;\n  position: relative;\n  border: 1px solid black;\n  display: inline-block;\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\n  cursor: pointer;\n  :active {\n    top: 2px;\n    box-shadow: 0 5px 8px rgba(0, 0, 0, 0.19), 0 4px 4px rgba(0, 0, 0, 0.23);\n  }\n"]);return P=function(){return e},e}function V(){var e=Object(u.a)(["\n    color: black;\n    border: 0.5px solid rgba(0, 0, 0, 0.6) !important;\n    margin-right: 8px;\n  "]);return V=function(){return e},e}function $(){var e=Object(u.a)(["\n  background-color: #f83d0e !important;\n"]);return $=function(){return e},e}function G(){var e=Object(u.a)(["\n  width: 100%;\n  margin-top: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n"]);return G=function(){return e},e}function J(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 450px;\n"]);return J=function(){return e},e}function K(e){var n=e.items,t=e.actions,o=Object(r.useState)(""),c=Object(L.a)(o,2),u=c[0],i=c[1],l=n&&n.filter(function(e){return e.checked}).length>0,d=function(){u&&(t.addTodo(u),i(""))},s=n.every(function(e){return!0===e.checked}),p=n.every(function(e){return!0===e.checked});return a.a.createElement(Y,null,a.a.createElement(D,{value:u,addTodo:d,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&d()}}),a.a.createElement(q,null,n.length>0&&!s&&a.a.createElement(Q,{selected:p,onClick:t.completeAllTodos}),l&&a.a.createElement(F,{onClick:t.clearCompletedTodos},"Clear Completed")))}var Y=i.a.div(J()),q=i.a.div(G()),F=Object(i.a)(C.a)($()),Q=function(e){var n=Object(i.a)(C.a)(V());return a.a.createElement(n,{color:"inverted",onClick:e.onClick},e.selected?a.a.createElement("span",null,a.a.createElement(s,null)):a.a.createElement("span",null,a.a.createElement(p,null)," Complete All"))},X=(i.a.button(P()),t(5)),Z=t.n(X),ee=t(11),ne=t(7),te=t(13),re="todoapp-szyvf",ae=te.d.hasAppClient(re)?te.d.getAppClient(re):te.d.initializeAppClient(re);function oe(){return ce.apply(this,arguments)}function ce(){return(ce=Object(ee.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.auth.loginWithRedirect(new te.b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(){var e=new te.a;return ae.auth.loginWithCredential(e)}function ie(){return ae.auth.isLoggedIn?ae.auth.user:null}function le(){var e=ie();return ae.auth.logoutUserWithId(e.id)}var de=a.a.createContext();function se(){var e=a.a.useContext(de);if(!e)throw new Error("useStitchAuth must be used within a StitchAuthProvider");return e}function pe(e){var n=a.a.useState({isLoggedIn:ae.auth.isLoggedIn,currentUser:ie()}),t=Object(L.a)(n,2),o=t[0],c=t[1];Object(r.useEffect)(function(){var e,n={onUserLoggedIn:function(e,n){n&&c(function(e){return Object(ne.a)({},e,{isLoggedIn:!0,currentUser:n})})},onUserLoggedOut:function(e,n){c(function(e){return Object(ne.a)({},e,{isLoggedIn:!1,currentUser:null})})}};return e=n,ae.auth.addAuthListener(e),function(){if(ae.auth.hasRedirectResult())ae.auth.handleRedirectResult()}(),c(function(e){return Object(ne.a)({},e)}),function(){var e;e=n,ae.auth.removeAuthListener(e)}},[]);var u=function(){var e=Object(ee.a)(Z.a.mark(function e(n){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isLoggedIn){e.next=6;break}e.t0=n,e.next="anonymous"===e.t0?4:"google"===e.t0?5:6;break;case 4:return e.abrupt("return",ue());case 5:return e.abrupt("return",oe());case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=Object(ee.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.isLoggedIn){e.next=7;break}return e.next=4,le();case 4:c(Object(ne.a)({},o,{isLoggedIn:!1,currentUser:null})),e.next=8;break;case 7:console.log("can't handleLogout when no user is logged in");case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),l=a.a.useMemo(function(){return{isLoggedIn:o.isLoggedIn,currentUser:o.currentUser,actions:{handleLogin:u,handleLogout:i}}},[o.isLoggedIn]);return a.a.createElement(de.Provider,{value:l},e.children)}var fe=t(28),me=ae.getServiceClient(te.c.factory,"atlas-todoapp").db("todo").collection("items"),he=function(e,n){var t=n.type,r=n.payload;switch(t){case"setTodos":return Object(ne.a)({},e,{hasHadTodos:r.todos.length>0,todos:r.todos||[]});case"addTodo":var a=Object(ne.a)({},r,{checked:"boolean"===typeof r.checked&&r.checked});return Object(ne.a)({},e,{hasHadTodos:!0,todos:[].concat(Object(fe.a)(e.todos),[a])});case"removeTodo":return Object(ne.a)({},e,{todos:e.todos.filter(function(e){return e.id!==r.id})});case"clearCompletedTodos":return Object(ne.a)({},e,{todos:e.todos.filter(function(e){return!0!==e.checked})});case"clearTodos":return Object(ne.a)({},e,{todos:[]});case"setTodoStatus":return Object(ne.a)({},e,{todos:e.todos.map(function(e){return e._id===r.id?Object(ne.a)({},e,{status:r.status}):e})});case"completeAllTodos":return Object(ne.a)({},e,{todos:e.todos.map(function(e){return Object(ne.a)({},e,{checked:!0})})});case"toggleTodoStatus":return Object(ne.a)({},e,{todos:e.todos.map(function(e){return e._id===r.id?Object(ne.a)({},e,{checked:!e.checked}):e})});default:console.error("Received invalid todo action type: ".concat(t))}};var ge=t(50);function ve(){var e=Object(u.a)(["\n  margin: 0;\n  h1 {\n    padding: 20px;\n    margin: 0;\n  }\n"]);return ve=function(){return e},e}function be(){var e=Object(u.a)(["\n  max-width: 600px;\n  align-items: center;\n  width: 100%;\n"]);return be=function(){return e},e}function xe(){var e=Object(u.a)(["\n  background: #eeeeee;\n  padding: 20px;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return xe=function(){return e},e}function Oe(){var e=function(e){var n=a.a.useReducer(he,{todos:[]}),t=Object(L.a)(n,2),r=t[0],o=t[1],c=function(){var e=Object(ee.a)(Z.a.mark(function e(){var n;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.find({},{limit:1e3}).asArray();case 2:n=e.sent,o({type:"setTodos",payload:{todos:n}});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(){var n=Object(ee.a)(Z.a.mark(function n(t){var r,a;return Z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={task:t,owner_id:e},n.next=3,me.insertOne(r);case 3:a=n.sent,o({type:"addTodo",payload:Object(ne.a)({},r,{_id:a.insertedId})});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),i=function(){var e=Object(ee.a)(Z.a.mark(function e(n){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.deleteOne({_id:n});case 2:o({type:"removeTodo",payload:{id:n}});case 3:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=Object(ee.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.deleteMany({});case 2:o({type:"clearTodos"});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(ee.a)(Z.a.mark(function e(){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.deleteMany({checked:!0});case 2:o({type:"clearCompletedTodos"});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(ee.a)(Z.a.mark(function e(n,t){return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.updateOne({_id:n},{$set:{checked:t}},{returnNewDocument:!0});case 2:o({type:"setTodoStatus",payload:{todoId:n,status:t}});case 3:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var n=Object(ee.a)(Z.a.mark(function n(){return Z.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,me.updateMany({owner_id:e},{$set:{checked:!0}});case 2:o({type:"completeAllTodos"});case 3:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),f=function(){var e=Object(ee.a)(Z.a.mark(function e(n){var t;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.todos.find(function(e){return e._id===n}),e.next=3,me.updateOne({_id:n},{$set:{checked:!t.currentStatus}});case 3:o({type:"toggleTodoStatus",payload:{id:n}});case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return a.a.useEffect(function(){c()},[]),{items:r.todos,hasHadTodos:r.hasHadTodos,actions:{addTodo:u,removeTodo:i,setTodoCompletionStatus:s,clearTodos:l,clearCompletedTodos:d,completeAllTodos:p,toggleTodoStatus:f}}}(se().currentUser.id);return a.a.createElement(d.a,null,a.a.createElement(je,null,a.a.createElement(we,null,a.a.createElement(Ee,null,a.a.createElement("h1",null,"PSN ToDo List")),a.a.createElement(K,e),a.a.createElement(y,e))))}var je=i.a.div(xe()),we=Object(i.a)(f.a)(be()),Ee=Object(i.a)(ge.a)(ve());function ye(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return ye=function(){return e},e}function ke(){var e=Object(u.a)(["\n  margin-top: 10px;\n  :first-of-type {\n    margin-top: 0px;\n  }\n"]);return ke=function(){return e},e}function Te(){var e=Object(u.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 450px;\n"]);return Te=function(){return e},e}function Le(){var e=Object(u.a)(["\n  background: #eeeeee;\n  height: 100%;\n  padding: 20px;\n"]);return Le=function(){return e},e}function Ce(){var e=se().actions;return a.a.createElement(d.a,null,a.a.createElement(Ie,null,a.a.createElement(Se,null,a.a.createElement(m.a,null,a.a.createElement(He,null,a.a.createElement(Ae,{provider:"anonymous",onClick:function(){return e.handleLogin("anonymous")}},"Log In as a Guest User"),a.a.createElement(Ae,{provider:"google",onClick:function(){return e.handleLogin("google")}},"Log In with Google"))))))}var Ie=i.a.div(Le()),Se=Object(i.a)(f.a)(Te()),Ae=Object(i.a)(C.a)(ke()),He=i.a.div(ye());function Ue(){var e=Object(u.a)(["\n  margin-right: auto;\n"]);return Ue=function(){return e},e}function _e(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  width: 100%;\n  height: 62px;\n  padding: 10px;\n  background: #5e9668;\n"]);return _e=function(){return e},e}function ze(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n  * {\n    font-family: sans-serif;\n  }\n"]);return ze=function(){return e},e}function Me(){var e=se(),n=e.isLoggedIn,t=e.actions.handleLogout;return a.a.createElement(De,null,a.a.createElement(Re,null,n&&a.a.createElement(C.a,{onClick:t},"Logout"),a.a.createElement(Be,null,"MongoDB Stitch To-Do Tutorial")),n?a.a.createElement(Oe,null):a.a.createElement(Ce,null))}var De=i.a.div(ze()),Re=i.a.div(_e()),Be=i.a.h1(Ue()),We=(t(43),document.getElementById("root"));c.a.render(a.a.createElement(function(){return a.a.createElement(pe,null,a.a.createElement(Me,null))},null),We)}},[[30,1,2]]]);
//# sourceMappingURL=main.c9595403.chunk.js.map